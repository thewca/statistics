{
  "queries": [
    {
      "keys": ["Single"],
      "headers": ["Name", "Country", "Sum", "R1", "R2", "R3"],
      "sqlQuery": "select\n\tconcat(\n\t\t'<a href=\"https://www.worldcubeassociation.org/persons/',\n\t\tid,\n\t\t'\">',\n\t\tname,\n\t\t'</a>'\n\t),\n\tcountryId Country,\n\tr3 + r4 + r5 Sum,\n\tr3 '3x3',\n\tr4 '4x4',\n\tr5 '5x5'\nfrom\n\t(\n\t\tselect\n\t\t\tid,\n\t\t\tp.name,\n\t\t\tp.countryId,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksSingle\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '333'\n\t\t\t) r3,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksSingle\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '444'\n\t\t\t) r4,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksSingle\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '555'\n\t\t\t) r5\n\t\tfrom\n\t\t\tPersons p\n\t) r\nwhere\n\tr3 is not null\n\tand r4 is not null\n\tand r5 is not null\norder by\n\tSum asc\nlimit\n\t10",
      "sqlQueryCustom": "select\n\tname Name,\n\tcountryId Country,\n\tr3 + r4 + r5 Sum,\n\tr3 '3x3',\n\tr4 '4x4',\n\tr5 '5x5'\nfrom\n\t(\n\tselect\n\t\tid,\n\t\tp.name,\n\t\tp.countryId,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksSingle\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '333') r3,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksSingle\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '444') r4,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksSingle\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '555') r5\n\tfrom\n\t\tPersons p) r\nwhere\n\tr3 is not null\n\tand r4 is not null\n\tand r5 is not null\n\tand id = ':WCA_ID'\norder by\n\tSum asc\nlimit 10"
    },
    {
      "keys": ["Average"],
      "headers": ["Name", "Country", "Sum", "R1", "R2", "R3"],
      "sqlQuery": "select\n\tconcat(\n\t\t'<a href=\"https://www.worldcubeassociation.org/persons/',\n\t\tid,\n\t\t'\">',\n\t\tname,\n\t\t'</a>'\n\t),\n\tcountryId Country,\n\tr3 + r4 + r5 Sum,\n\tr3 '3x3',\n\tr4 '4x4',\n\tr5 '5x5'\nfrom\n\t(\n\t\tselect\n\t\t\tid,\n\t\t\tp.name,\n\t\t\tp.countryId,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksAverage\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '333'\n\t\t\t) r3,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksAverage\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '444'\n\t\t\t) r4,\n\t\t\t(\n\t\t\t\tselect\n\t\t\t\t\tworldRank\n\t\t\t\tfrom\n\t\t\t\t\tRanksAverage\n\t\t\t\twhere\n\t\t\t\t\tpersonId = p.id\n\t\t\t\t\tand eventId = '555'\n\t\t\t) r5\n\t\tfrom\n\t\t\tPersons p\n\t) r\nwhere\n\tr3 is not null\n\tand r4 is not null\n\tand r5 is not null\norder by\n\tSum asc\nlimit\n\t10",
      "sqlQueryCustom": "select\n\tname Name,\n\tcountryId Country,\n\tr3 + r4 + r5 Sum,\n\tr3 '3x3',\n\tr4 '4x4',\n\tr5 '5x5'\nfrom\n\t(\n\tselect\n\t\tid,\n\t\tp.name,\n\t\tp.countryId,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksAverage\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '333') r3,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksAverage\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '444') r4,\n\t\t(\n\t\tselect\n\t\t\tworldRank\n\t\tfrom\n\t\t\tRanksAverage\n\t\twhere\n\t\t\tpersonId = p.id\n\t\t\tand eventId = '555') r5\n\tfrom\n\t\tPersons p) r\nwhere\n\tr3 is not null\n\tand r4 is not null\n\tand r5 is not null\n\tand id = ':WCA_ID'\norder by\n\tSum asc\nlimit 10"
    }
  ],
  "title": "Sum of 3x3/4x4/5x5 ranks"
}
